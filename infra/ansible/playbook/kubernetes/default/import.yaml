---
- name: Installing kubernetes
  ansible.builtin.import_playbook: ./install.yaml

- name: We install our cluster via kubeadm
  ansible.builtin.import_playbook: ./kubeadm.yaml

- name: Installing CNI Cilium
  ansible.builtin.import_playbook: ./cilium.yaml

- name: Making the cluster single-node
  ansible.builtin.import_playbook: ./single-node.yaml

- name: Creating and namespace
  ansible.builtin.import_playbook: ./namespace.yaml

- name: Creating a secrets
  ansible.builtin.import_playbook: ./secrets.yaml

- name: Creating a StorageClass
  ansible.builtin.import_playbook: ./storage/storage.yaml

- name: Creating a PersistentVolumeClaim
  ansible.builtin.import_playbook: ./storage/pvc.yaml
